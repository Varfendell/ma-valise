{% extends 'Administration/default.html.twig' %}

{% block title %}User{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-6">
            <div class="card card-primary card-outline">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-edit"></i>
                        {{ user.lastName }} {{ user.firstName }}
                    </h3>
                    <div class="card-tools">
                        <ul class="nav nav-pills ml-auto">
                            <li class="nav-item">
                                <a class="btn btn-info float-right"
                                   href="{{ path('user_edit', {'id': user.id}) }}">Editer l'utilisateur</a>
                            </li>
                            <li class="nav-item">
                                <a class="btn btn-success float-right" href="{{ path('user_index') }}">Retour aux
                                    utilisateurs</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="card-body pad">
                    <table class="table">
                        <tbody>
                        <tr>
                            <th>Id</th>
                            <td>{{ user.id }}</td>
                        </tr>
                        <tr>
                            <th>FirstName</th>
                            <td>{{ user.firstName }}</td>
                        </tr>
                        <tr>
                            <th>LastName</th>
                            <td>{{ user.lastName }}</td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td><a href="mailto:{{ user.email }}">{{ user.email }}</a></td>
                        </tr>
                        <tr>
                            <th>Phone</th>
                            <td>{{ user.phone }}</td>
                        </tr>
                        <tr>
                            <th>Birthdate</th>
                            <td>{{ user.birthdate ? user.birthdate|date('Y-m-d') : '' }}</td>
                        </tr>
                        <tr>
                            <th>City</th>
                            <td>{{ user.city }}</td>
                        </tr>
                        <tr>
                            <th>Picture</th>
                            <td>{{ user.picture }}</td>
                        </tr>
                        </tbody>
                    </table>
                    {{ include('administration/crud/user/_delete_form.html.twig') }}
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="col-md-12">
                <div class="card card-primary card-outline">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-edit"></i>
                            Projets de l'utilisateur
                        </h3>
                    </div>
                    <div class="card-body pad">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Cagnotte</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for project in user.projects %}
                                <tr>
                                    <td><a href="{{ path('project_show', {'id': project.id}) }}">{{ project.name }}</a>
                                    </td>
                                    <td><a target="_blank" href="{{ project.cagnotte.url }}">Acceder Ã  la cagnotte du
                                            projet</a></td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
